<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>CheckOut</title>
    <style media="screen">

      .section{
        display: none;
      }

      .clearCart{
        cursor: pointer;
      }

      .back a{
        text-decoration: none;
        color: black;
      }

      .addtoCart a{
        text-decoration: none;
        color: black;
      }

    </style>
  </head>
  <body>
    <h1>Shopping Cart</h1>
    <h2>Items in your bag:</h2>

    <div class="itemContainer">
      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem0"></span></p>
          <p>Price:<span id="storedPrice0"></span></p>
        </div>
      </div>

      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem1"></span></p>
          <p>Price:<span id="storedPrice1"></span></p>
        </div>
      </div>

      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem2"></span></p>
          <p>Price:<span id="storedPrice2"></span></p>
        </div>
      </div>

      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem3"></span></p>
          <p>Price:<span id="storedPrice3"></span></p>
        </div>
      </div>

      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem4"></span></p>
          <p>Price:<span id="storedPrice4"></span></p>
        </div>
      </div>

      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem5"></span></p>
          <p>Price:<span id="storedPrice5"></span></p>
        </div>
      </div>

      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem6"></span></p>
          <p>Price:<span id="storedPrice6"></span></p>
        </div>
      </div>

      <div class="allItems">
        <div class="section">
          <p>Item Name:<span id="storedItem7"></span></p>
          <p>Price:<span id="storedPrice7"></span></p>
        </div>
      </div>

    </div>


    <button type="button" name="ClearCart" class="clearCart">Clear Cart</button>
    <button type="button" name="Back" class="back"><a href="project2.html">Continue Shopping</a></button>
    <button type="button" name="addToCart" class="addtoCart"><a href="templates/index.html">Checkout</a></button>



    <!-- JAVASCRIPT CODE -->
    <script type="text/javascript">

      display = document.querySelectorAll('.itemContainer .allItems > div')

      for(let index = 0; index < display.length; index++){
        if(sessionStorage.getItem(`itemName${index}`) != null){

           itemName = document.querySelector(`#storedItem${index}`)
           itemPrice = document.querySelector(`#storedPrice${index}`)

           display[index].style.display = 'block'

           itemName.innerHTML = sessionStorage.getItem(`itemName${index}`)
           itemPrice.innerHTML = "$"
           itemPrice.innerHTML += sessionStorage.getItem(`itemPrice${index}`)
        }
      }

      const clearCart = document.querySelector('.clearCart')
      const allInfo = document.querySelectorAll('.section > p')

      function clearCartItems(){
        for(let index = 0; index < allInfo.length ; index++){
          allInfo[index].innerHTML = ''
        }
      }

      clearCart.addEventListener('click', function(){
        sessionStorage.clear()
        clearCartItems()

      })


    </script>
  </body>
</html>
